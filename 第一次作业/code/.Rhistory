f1 = f1 +2*t(EXY)%*%X[,i]*exp(t(EXY)%*%X[,i]*coef)/(1+exp(t(EXY)%*%X[,i]*coef))^2*(y[i]-1/(1+exp(t(EXY)%*%X[,i]*coef)))
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R')
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R')
help("rbinom")
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R')
(t(EXY)%*%X[,i]*exp(-t(EXY)%*%X[,i]*coef)/(1+exp(-t(EXY)%*%X[,i]*coef))^2)^2
set.seed(1)
object<-function(p,n,coef){
beta = rep(1,p)
X=matrix(nrow=p,ncol=n)
y = rep(0,n)
for(j in 1:n)
{
X[,j]=runif(p,min=-1,max=1)
lambda=exp(beta%*%X[,j])/(1+exp(beta%*%X[,j]))
y[j]=rbinom(1,1,lambda)+rnorm(1,0,1)
}
EXY=X%*%y/n
coef=coef
C=NEWTON(coef,X,y,n,EXY)
EXY*C
return(EXY*C)
}
p = 2
n = 100
coef = 1
beta = rep(1,p)
X=matrix(nrow=p,ncol=n)
y = rep(0,n)
for(j in 1:n)
{
X[,j]=runif(p,min=-1,max=1)
lambda=exp(beta%*%X[,j])/(1+exp(beta%*%X[,j]))
y[j]=rbinom(1,1,lambda)+rnorm(1,0,1)
}
EXY=X%*%y/n
coef=coef
C=NEWTON(coef,X,y,n,EXY)
EXY*C
beta = rep(1,p)
X=matrix(nrow=p,ncol=n)
y = rep(0,n)
for(j in 1:n)
{
X[,j]=runif(p,min=-1,max=1)
lambda=exp(beta%*%X[,j])/(1+exp(beta%*%X[,j]))
y[j]=rbinom(1,1,lambda)+rnorm(1,0,1)
}
EXY=X%*%y/n
coef=coef
(t(EXY)%*%X[,i]*exp(-t(EXY)%*%X[,i]*coef)/(1+exp(-t(EXY)%*%X[,i]*coef))^2)^2
(t(EXY)%*%X[,1]*exp(-t(EXY)%*%X[,1]*coef)/(1+exp(-t(EXY)%*%X[,1]*coef))^2)^2
i = 2
2*t(EXY)%*%X[,i]*exp(-t(EXY)%*%X[,i]*coef)/(1+exp(-t(EXY)%*%X[,i]*coef))^2*
(y[i]-1/(1+exp(-t(EXY)%*%X[,i]*coef)))
(y[i]-1/(1+exp(-t(EXY)%*%X[,i]*coef)))*(((t(EXY)%*%X[,i])^2*exp(-t(EXY)%*%X[,i]*coef)*
(1-exp(-t(EXY)%*%X[,i]*coef))/(1+exp(-t(EXY)%*%X[,i]*coef))^3))
2(-(t(EXY)%*%X[,i]*exp(-t(EXY)%*%X[,i]*coef)/(1+exp(-t(EXY)%*%X[,i]*coef))^2)^2+
(y[i]-1/(1+exp(-t(EXY)%*%X[,i]*coef)))*(((t(EXY)%*%X[,i])^2*exp(-t(EXY)%*%X[,i]*coef)*
(1-exp(-t(EXY)%*%X[,i]*coef))/(1+exp(-t(EXY)%*%X[,i]*coef))^3)))
-(t(EXY)%*%X[,i]*exp(-t(EXY)%*%X[,i]*coef)/(1+exp(-t(EXY)%*%X[,i]*coef))^2)^2
2*t(EXY)%*%X[,i]*(y[i]-exp(t(EXY)%*%X[,i]*coef))*exp(t(EXY)%*%X[,i]*coef)
2*(t(EXY)%*%X[,i])^(2)*y[i]*exp(t(EXY)%*%X[,i]*coef)+4*(t(EXY)%*%X[,i])^(2)*exp(2*t(EXY)%*%X[,i]*coef
f2=f2-2*(t(EXY)%*%X[,i])^(2)*y[i]*exp(t(EXY)%*%X[,i]*coef)+4*(t(EXY)%*%X[,i])^(2)*exp(2*t(EXY)%*%X[,i]*coef)
f2=f2-2*(t(EXY)%*%X[,i])^(2)*y[i]*exp(t(EXY)%*%X[,i]*coef)+4*(t(EXY)%*%X[,i])^(2)*exp(2*t(EXY)%*%X[,i]*coef)
f2=0
f2=f2-2*(t(EXY)%*%X[,i])^(2)*y[i]*exp(t(EXY)%*%X[,i]*coef)+4*(t(EXY)%*%X[,i])^(2)*exp(2*t(EXY)%*%X[,i]*coef)
f2=f2-2*(t(EXY)%*%X[,i])^(2)*y[i]*exp(t(EXY)%*%X[,i]*coef)+4*(t(EXY)%*%X[,i])^(2)*exp(2*t(EXY)%*%X[,i]*coef)
2*(t(EXY)%*%X[,i])^(2)*y[i]*exp(t(EXY)%*%X[,i]*coef)+4*(t(EXY)%*%X[,i])^(2)*exp(2*t(EXY)%*%X[,i]*coef)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R')
object<-function(p,n,coef){
beta = rep(1,p)
X=matrix(nrow=p,ncol=n)
y = rep(0,n)
for(j in 1:n)
{
X[,j]=runif(p,min=-1,max=1)
lambda=exp(beta%*%X[,j])/(1+exp(beta%*%X[,j]))
y[j]=rbinom(1,1,lambda)+rnorm(1,0,1)
}
EXY=X%*%y/n
coef=coef
C=NEWTON(coef,X,y,n,EXY)
EXY*C
return(EXY*C)
}
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R')
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R')
View(object)
View(NEWTON)
View(l)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R')
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R')
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R')
object(5,100,2)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R')
object(5,100,2)
source('E:/Github/2020_high_dimension/第一次作业/code/ols poisson.R', encoding = 'UTF-8')
source('E:/Github/2020_high_dimension/第一次作业/code/ols norm.R', encoding = 'UTF-8')
object(100,1000)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R')
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols poisson.R', encoding = 'UTF-8', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols poisson.R', encoding = 'UTF-8', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols poisson.R', encoding = 'UTF-8', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
true <- rep(1,20)
mse <- beta - true
beta <- object(20,10000,2)
true <- rep(1,20)
mse <- beta - true
source('E:/Github/2020_high_dimension/第一次作业/code/ols logistic.R', echo=TRUE)
sqrt(sum((beta - true)^2))
